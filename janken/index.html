<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- リセットcss読み込み -->
    <link rel="stylesheet" href="css/reset.css">
    <!-- style.css読み込み -->
    <link rel="stylesheet" href="css/style.css">
    <!-- jquery読み込み -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <title>ジャンケンゲーム</title>
</head>
<body>
    <!-- タイトルエリア -->
    <div class="main">
        <h1 class="title">ジャンケンゲーム</h1>
    </div>

    <!-- 結果表示エリア -->
    <div class="result">
       <h2 class="text"></h2>
       <p class="result-img"></p>
       <div class="result-text"></div>
    </div>

    <!-- 入力エリア -->
    <div class="my-hand">
        <ul class="hand-list">
            <li id="gu" class="hand" value="1"><p><img class="hand-img" src="images/gu.png" alt=""></p></li>
            <li id="choki" class="hand" value="2"><p><img class="hand-img" src="images/choki.png" alt=""></p></li>
            <li id="pa" class="hand" value="3"><p><img class="hand-img" src="images/pa.png" alt=""></p></li>
        </ul>
    </div>

<!-- ここからjs -->
<script>
  //ボタンが押されたら実行
  $(".hand").on("click",function(){
     //alert("OK");

     //押したボタンの値を取得
     let data = $(this).val();
     // console.log(data);

     //0~2の数字をランダムに生成する処理
     let num = Math.floor( Math.random()*3 );
     //console.log(num);

     //条件分岐でじゃんけん結果を表示
     if( data - num == 1 ){
        // alert("あいこ);
        $('.result-text').html('おあいこ');
        let d = "draw";
        console.count(d);
        localStorage.setItem('draw',0);

     }else if( data - num == 0| data - num == 3 ){
         // alert("勝ち");
        $('.result-text').html('あなたの勝ち');
        let w = "win";
        console.count(w);
        localStorage.setItem('win',1);
        

     }else if( data- num == 2| data - num == -1){
        // alert("負け");
        $('.result-text').html('あなたの負け');
        let L = "Lose";
        console.count(L);
        localStorage.setItem('lose',-1);

     }

      // 共通で表示する文言の処理
      $('.text').html('相手が出したのは');

     //相手のじゃんけん画像を表示
     if( num == 0 ){
        // alert("グー");
        $('.result-img').html('<img src="images/gu.png" alt="">');
     }else if( num == 1){
        // alert("チョキ");
        $('.result-img').html('<img src="images/choki.png" alt="">'); 
     }else if( num == 2){
        // alert("パー");
        $('.result-img').html('<img src="images/pa.png" alt="">');
     }


  });

  
</script>
</body>
</html>